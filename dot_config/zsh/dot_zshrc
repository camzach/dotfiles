export HISTFILE="$ZDOTDIR/.zhistory"    # History filepath
export HISTSIZE=10000                   # Maximum events for internal history
export SAVEHIST=10000                   # Maximum events in history filepath
setopt HIST_IGNORE_DUPS
setopt HIST_REDUCE_BLANKS

source "$ZDOTDIR/completion.zsh"

# Setup nvim as editor, using vim as fallback
if [ "$(which nvim)" ]; then
	export EDITOR="nvim"
	export VISUAL="nvim"
elif [ "$(which vim)" ]; then
	export EDITOR="vim"
	export VISUAL="vim"
fi

# Setup NVM
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"                   # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion" # This loads nvm bash_completion

# Set up starship prompt
if [ "$(which starship)" ]; then
	eval "$(starship init zsh)"
fi

# Add cargo to path
if [ -d "$HOME/.cargo" ]; then
	export PATH=$PATH:~/.cargo/bin
fi

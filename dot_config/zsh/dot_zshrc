export HISTFILE="$ZDOTDIR/.zhistory" # History filepath
export HISTSIZE=10000                # Maximum events for internal history
export SAVEHIST=10000                # Maximum events in history filepath
setopt HIST_IGNORE_DUPS
setopt HIST_REDUCE_BLANKS

source "$ZDOTDIR/completion.zsh"

autoload -Uz edit-command-line
zle -N edit-command-line
bindkey ^N edit-command-line

# Setup nvim as editor, using vim as fallback
if [[ "$(command -v nvim)" ]]; then
	export EDITOR="nvim"
	export VISUAL="nvim"
elif [[ "$(command -v vim)" ]]; then
	export EDITOR="vim"
	export VISUAL="vim"
fi

# Set up starship prompt
if [[ "$(command -v starship)" ]]; then
	eval "$(starship init zsh)"
fi

if [[ "$(command -v zoxide)" ]]; then
	eval "$(zoxide init zsh --cmd cd)"
fi
